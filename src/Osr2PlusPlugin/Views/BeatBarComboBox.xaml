<UserControl x:Class="Osr2PlusPlugin.Views.BeatBarComboBox"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:models="clr-namespace:Osr2PlusPlugin.Models"
             xmlns:converters="clr-namespace:Osr2PlusPlugin.Converters"
             Background="Transparent">

    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Resources/Styles.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <!-- BeatBarMode enum values for ComboBox -->
            <ObjectDataProvider x:Key="BeatBarModeValues"
                                MethodName="GetValues"
                                ObjectType="{x:Type sys:Enum}">
                <ObjectDataProvider.MethodParameters>
                    <x:Type TypeName="models:BeatBarMode" />
                </ObjectDataProvider.MethodParameters>
            </ObjectDataProvider>

            <converters:BeatBarModeDisplayConverter x:Key="ModeDisplayConverter" />
        </ResourceDictionary>
    </UserControl.Resources>

    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
        <TextBlock Text="â™ª"
                   Foreground="{StaticResource TextSecondaryBrush}"
                   FontSize="12"
                   VerticalAlignment="Center"
                   Margin="4,0,4,0"
                   ToolTip="Beat Bar" />

        <ComboBox Style="{StaticResource Osr2ComboBoxStyle}"
                  ItemContainerStyle="{StaticResource Osr2ComboBoxItemStyle}"
                  ItemsSource="{Binding Source={StaticResource BeatBarModeValues}}"
                  SelectedItem="{Binding Mode}"
                  Width="90"
                  ToolTip="Beat Bar Mode">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding Converter={StaticResource ModeDisplayConverter}}" />
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>
    </StackPanel>
</UserControl>
